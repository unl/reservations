<h1 class="dcf-txt-h3" id="Edit_Project">Edit Project</h1>
<div>
    <a href="/checkout/user/?nuid=<%= user.user_nuid %>" class="dcf-btn dcf-btn-secondary dcf-25% dcf-w-max-2xs" type="button">Back to Checkout</a>
</div>

<div class="dcf-grid dcf-col-gap-vw">
<form id="edit-project-form" action="" method="POST" enctype="multipart/form-data" class="dcf-form dcf-col-100% dcf-col-50%-start@sm">
    <fieldset>
        <legend>Project Details</legend>

        <div class="dcf-form-group ">
            <label for="nuid">Owner NUID <small class="dcf-required">Required</small></label>
            <input class="dcf-w-100%" type="text" id="nuid" name="nuid" value ="<%= user.user_nuid %>" />
        </div>

        <div class="dcf-form-group">
            <label for="title">Title <small class="dcf-required">Required</small></label>
            <input class="dcf-w-100%" type="text" id="title" name="title" value ="<%= title %>" />
        </div>

        <div class="dcf-form-group">
            <label for="description">Description</label>
            <input class="dcf-w-100%" type="text" id="description" name="description" value ="<%= description %>" />
        </div>

        <div class="dcf-form-group">
            <label for="password">Bin ID <small class="dcf-required">Required</small></label>
            <input class="dcf-w-100%" type="text" id="bin_id" name="bin_id" value ="<%= bin_id %>" />
        </div>
        <button class="dcf-mt-3 dcf-btn dcf-btn-primary" type="submit">Update</button>
    </fieldset>
</form>
    <div class="dcf-w-100% dcf-col-50%-end@sm">
        <p class="dcf-bold">Project Teammates</p>
        <form class="dcf-form dcf-w-100% dcf-col-50%-end@sm" id="find-nuid" action="/checkout/project/<%= project_id %>/edit/teammates/?" method="POST" enctype="application/x-www-form-urlencoded">
            <div class="dcf-input-group">
                <input id="nuid-input" name="nuid" placeholder="Add a new teammate by NUID" type="text"/>
                <button class="dcf-btn dcf-btn-primary" type="submit">Add Teammate</button>
            </div>
        </form>
        <div class="dcf-overflow-x-auto dcf-p-1" tabindex="0">
            <% if teammates.present? %>
                <table class="dcf-table dcf-table-striped dcf-w-100%">
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Email</th>
                            <th scope="col">Date Added</th>
                            <th scope="col">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% teammates.each do | teammate | %>
                            <% user = User.find_by(id: teammate.teammate_id) %>
                            <tr class="dcf-ai-center dcf-col-gap-vw">
                                <td><%= user.full_name %></td>
                                <td><%= user.email %></td>
                                <td><%= teammate.created_on.strftime('%m/%d/%Y') %></td>
                                <td>
                                        <form class="dcf-form dcf-w-100%" action="/checkout/project/<%= project_id %>/edit/teammates/<%= teammate.id %>/remove" method="POST" enctype="application/x-www-form-urlencoded" onsubmit="return confirm('Remove <%= user.full_name %> as a teammate?');">
                                            <button class="dcf-btn dcf-btn-secondary" type="submit">Remove</button>
                                        </form>
                                </td>
                            </tr>
                        <% end %>
                    </tbody>
                </table>
            <% else %>
                <p>No teammates found.</p>
            <% end %>
        </div>
    </div>
</div>
      