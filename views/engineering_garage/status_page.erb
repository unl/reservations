<div class="dcf-grid dcf-col-gap-vw dcf-flex-wrap">
    <div class="dcf-col-50% dcf-ac-center">
    <h1 class="dcf-txt-h1 dcf-txt-center" id="Title">Kiewit Garage Status</h1>
    </div>

    <div class="dcf-col-50% dcf-flex dcf-jc-center">

        <div class="dcf-col-100% dcf-w-100%" style="margin-top:15px">
            <table class="dcf-table dcf-table-bordered dcf-m-4 dcf-w-100%" aria-describedby="num_down_machines">
                <thead>
                    <tr>
                        <th scope="col">Event</th>
                        <th scope="col">Potentials</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="dcf-txt-center">
                        <td>New User Orientation - Fall 2024 & Spring 2025</td>
                        <td>20</td>
                    </tr>
                    <tr class="dcf-txt-center">
                        <td>3D Printer Bambu X1E</td>
                        <td>5</td>
                    </tr>
                    <tr class="dcf-txt-center">
                        <td>3D Printer - Formlabs Form 4</td>
                        <td>2</td>
                    </tr>
                    <tr class="dcf-txt-center">
                        <td>Fabrication Laser - Epilog Fusion Pro 32 100-50</td>
                        <td>12</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="dcf-col-100% dcf-w-100%" style="margin-top:15px">
            <table class="dcf-table dcf-table-bordered dcf-m-4 dcf-w-100%" aria-describedby="num_down_machines">
                <thead>
                    <tr>
                        <th class="dcf-txt-center">Number of Locked Out / Tag Out Machines</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="dcf-txt-center">
                        <td><%= lockout_count %></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<div class="dcf-box dcf-border-all dcf-p-6 dcf-mb-4">
    <h2 class="dcf-txt-center">A beautiful histogram here</h2>
    <p>
        This box will be changed to a histogram at a later time
    </p>


</div>

<h1 class="dcf-txt-h3 dcf-txt-center" id="Title">Locked Out / Tag Out Machines</h1>

<div class="dcf-grid dcf-col-gap-vw dcf-flex-wrap">
    <div class="dcf-col-67%-center dcf-felx-wrap">
        <h2>Currently Locked Out Equipment</h2>
        <table class="dcf-table dcf-table-bordered dcf-m-4 dcf-w-100%" aria-describedby="Down-Machines">
            <thead>
                <tr>
                    <th>Machine Name</th>
                    <th>Description</th>
                    <th>Start Date</th>
                    <th>Scheduled Release Date</th>
                </tr>
            </thead>
            <tbody>
                <% lockouts.each do |lockout| %>
                    <tr>
                        <td><%= lockout.resource.name if lockout.resource %></td>
                        <td><%= lockout.description %></td>
                        <td><%= lockout.started_on.strftime('%Y-%m-%d %H:%M') if lockout.started_on %></td>
                        <td><%= lockout.released_on.strftime('%Y-%m-%d %H:%M') if lockout.released_on %></td>
                    </tr>
                <% end %>
            </tbody>
        </table>
        <h2>Upcoming Scheduled Lockouts</h2>
        <table class="dcf-table dcf-table-bordered dcf-m-4 dcf-w-100%" aria-describedby="Upcoming-Machines">
            <thead>
                <tr>
                    <th>Machine Name</th>
                    <th>Description</th>
                    <th>Scheduled Start Date</th>
                    <th>Scheduled Release Date</th>
                </tr>
            </thead>
            <tbody>
                <% upcoming_lockouts.each do |lockout| %>
                    <tr>
                        <td><%= lockout.resource.name if lockout.resource %></td>
                        <td><%= lockout.description %></td>
                        <td><%= lockout.started_on.strftime('%Y-%m-%d %H:%M') if lockout.started_on %></td>
                        <td><%= lockout.released_on.strftime('%Y-%m-%d %H:%M') if lockout.released_on %></td>
                    </tr>
                <% end %>
            </tbody>
        </table>
    </div>
</div>
